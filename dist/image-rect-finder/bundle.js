!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){var i=t.getImageData(0,0,n,r),a=new Promise(function(t,n){e.onmessage=function(e){t(e.data)},e.onerror=n});return e.postMessage({imageData:i,options:o},[i.data.buffer]),a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.image,n=e.resizeWait,r=void 0===n?100:n,o=new Worker("find-rect-worker.js"),i=(d=t,window.getComputedStyle(d).getPropertyValue("background-image").match(/url\(["']*([^"')]+)["']*\)/)[1]),u=!1;var d;return window.addEventListener("resize",function(){u||(u=!0,setTimeout(function(){a(o,t,i).then(function(){u=!1}).catch(function(e){console.error("drawPhone failed",e),u=!1})},r))}),a(o,t,i)};var r,o=n(0),i=(r=o)&&r.__esModule?r:{default:r};function a(e,t,n){var r,o,a,u=t;return(r=[n],o=r.length,a=void 0,new Promise(function(e,t){function n(){--o||e(a)}a=r.map(function(e){var r=new Image;return r.onload=n,r.onerror=t,r.crossOrigin="",r.src=e,r})})).then(function(t){var n=t[0],r=document.createElement("canvas"),o=u.getBoundingClientRect();r.width=o.width,r.height=o.height;var a=r.getContext("2d"),d=n.naturalWidth/o.width,c=n.naturalHeight/o.height;return a.scale(o.width/n.naturalWidth,o.height/n.naturalHeight),a.drawImage(n,0,0),(0,i.default)(e,a,o.width,o.height,{shade:0,candidateThreshold:20,topLeft:{targetBlockMax:10,edgeDiffMin:38},bottomRight:{targetBlockMax:12,edgeDiffMin:38}}).then(function(e){console.log("foundRect",e),a.clearRect(e.left*d,e.top*c,e.width*d,e.height*c),u.style.background="transparent",u.hasChildNodes()&&u.removeChild(u.firstChild),u.appendChild(r)})})}},function(e,t,n){"use strict";var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};window.addEventListener("DOMContentLoaded",function(){(0,i.default)({image:document.querySelector(".image")})},{once:!0})}]);